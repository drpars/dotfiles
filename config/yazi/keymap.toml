# A TOML linter such as https://taplo.tamasfe.dev/ can use this schema to validate your config.
# If you encounter any issues, please make an issue at https://github.com/yazi-rs/schemas.
"$schema" = "https://yazi-rs.github.io/schemas/keymap.json"

[mgr]

keymap = [
    # Ã‡Ä±kÄ±ÅŸ, VazgeÃ§me, AskÄ±ya Alma (Exit, Cancel, Suspend)
    { on = "<Esc>", run = "escape", desc = "Exit visual mode, clear selected, or cancel search" },
    { on = "q", run = "quit", desc = "Quit the process" },
    { on = "<C-c>", run = "close", desc = "Close the current tab, or quit if it's last" },
    { on = "<C-z>", run = "suspend", desc = "Suspend the process" },

    # ZÄ±plama (Hopping - j/k)
    { on = "k", run = "arrow -1", desc = "Move cursor up" },
    { on = "j", run = "arrow 1", desc = "Move cursor down" },
    { on = "<C-b>", run = "arrow -100%", desc = "Move cursor up one page" },
    { on = "<C-f>", run = "arrow 100%", desc = "Move cursor down one page" },
    { on = [ "g", "g" ], run = "arrow top", desc = "Move cursor to the top" },
    { on = "G", run = "arrow bot", desc = "Move cursor to the bottom" },
    # YÃ¶n TuÅŸlarÄ± (Ok TuÅŸlarÄ±)
    { on = "<Up>", run = "arrow -1", desc = "Move cursor up" },
    { on = "<Down>", run = "arrow 1", desc = "Move cursor down" },

    # Navigasyon (Navigation - h/l)
    { on = "h", run = "leave", desc = "Go back to the parent directory" },
    { on = "l", run = "enter", desc = "Enter the child directory" },
    { on = "H", run = "back", desc = "Go back to the previous directory" },
    { on = "L", run = "forward", desc = "Go forward to the next directory" },
    # YÃ¶n TuÅŸlarÄ± (Ok TuÅŸlarÄ±)
    { on = "<Left>", run = "leave", desc = "Go back to the parent directory" },
    { on = "<Right>", run = "enter", desc = "Enter the child directory/Open file" },

    # SeÃ§im (Selection)
    { on = "<Space>", run = [ "toggle", "arrow 1" ], desc = "Toggle the current selection state and move down" },
    { on = "v", run = "visual_mode", desc = "Enter visual mode (selection mode)" },

    # Ä°ÅžLEMLER (OPERATIONS)
    { on = "o", run = "open", desc = "Open selected files" },
    { on = "O", run = "open --interactive", desc = "Open selected files interactively" },
    { on = "<Enter>", run = "open", desc = "Open selected files" },
    { on = "<S-Enter>", run = "open --interactive", desc = "Open selected files interactively" },

    { on = "y", run = "yank", desc = "Yank selected files (copy)" },
    { on = "x", run = "yank --cut", desc = "Yank selected files (cut)" },
    { on = "p", run = "paste", desc = "Paste yanked files" },
    { on = "P", run = "paste --force", desc = "Paste yanked files (overwrite if exists)" },

    # BaÄŸlantÄ±lar (Linkler)
    { on = "-", run = "link", desc = "Symlink the absolute path of yanked files" },
    { on = "_", run = "link --relative", desc = "Symlink the relative path of yanked files" },
    { on = "<C-->", run = "hardlink", desc = "Hardlink yanked files" },

    # Yank Ä°ptali
    { on = "Y", run = "unyank", desc = "Cancel the yank status" },
    { on = "X", run = "unyank", desc = "Cancel the yank status" },

    { on = "d", run = "remove", desc = "Trash selected files" },
    { on = "D", run = "remove --permanently", desc = "Permanently delete selected files" },

    { on = "a", run = "create", desc = "Create a file (ends with / for directories)" },
    { on = "r", run = "rename --cursor=before_ext", desc = "Rename selected file(s)" },

    { on = ";", run = "shell --interactive", desc = "Run a shell command" },
    { on = ":", run = "shell --block --interactive", desc = "Run a shell command (block until finishes)" },
    { on = ".", run = "hidden toggle", desc = "Toggle the visibility of hidden files" },

    { on = "s", run = "search --via=fd", desc = "Search files by name via fd" },
    { on = "S", run = "search --via=rg", desc = "Search files by content via ripgrep" },
    { on = "<C-s>", run = "escape --search", desc = "Cancel the ongoing search" },

    { on = "z", run = "plugin zoxide", desc = "Jump to a directory via zoxide" },
    { on = "Z", run = "plugin fzf", desc = "Jump to a file/directory via fzf" },

    # Linemode
    { on = [ "m", "s" ], run = "linemode size", desc = "Linemode: size" },
    { on = [ "m", "m" ], run = "linemode mtime", desc = "Linemode: mtime" },

    # Kopyalama (Copy)
    { on = [ "c", "c" ], run = "copy path", desc = "Copy the file path" },
    { on = [ "c", "f" ], run = "copy filename", desc = "Copy the filename" },

    # Filtre/Bul (Filter/Find)
    { on = "f", run = "filter --smart", desc = "Filter files" },
    { on = "/", run = "find --smart", desc = "Find next file" },
    { on = "n", run = "find_arrow", desc = "Goto the next found" },

    # SÄ±ralama (Sorting)
    { on = [ ",", "a" ], run = "sort alphabetical --reverse=no", desc = "Sort alphabetically" },
    { on = [ ",", "n" ], run = "sort natural --reverse=no", desc = "Sort naturally" },
    { on = [ ",", "s" ], run = [ "sort size --reverse=no", "linemode size" ], desc = "Sort by size" },

    # Goto (Dizinlere HÄ±zlÄ± Gitme)
    { on = [ "g", "h" ], run = "cd ~", desc = "Go home" },
    { on = [ "g", "c" ], run = "cd ~/.config", desc = "Goto ~/.config" },
    { on = [ "g", "d" ], run = "cd ~/Ä°ndirilenler", desc = "Goto ~/Downloads (Ä°ndirilenler)" },
    { on = [ "g", "b" ], run = "cd ~/Belgeler", desc = "Goto ~/Documents (Belgeler)" },
    { on = [ "g", "t" ], run = "cd ~/.local/share/Trash/files", desc = "Goto trash" },
    { on = [ "g", "<Space>" ], run = "cd --interactive", desc = "Jump interactively" },

    # Sekmeler (Tabs)
    { on = "t", run = "tab_create --current", desc = "Create a new tab with CWD" },
    { on = "[", run = "tab_switch -1 --relative", desc = "Switch to the previous tab" },
    { on = "]", run = "tab_switch 1 --relative", desc = "Switch to the next tab" },

    # GÃ¶revler (Tasks)
    { on = "w", run = "tasks_show", desc = "Show task manager" },

    # YardÄ±m (Help)
    { on = "~", run = "help", desc = "Open help" },

    # 1. Ã–ZEL ATAMALAR
    { on = "M", run = "plugin mount", desc = "Mount/Unmount filesystems" },
    { on = "!", run = 'shell "$SHELL" --block', desc = "Open shell here (Blocking)" },
    { on = "T", run = "plugin toggle-pane min-preview", desc = "Show or hide the preview pane" },
    { on = [ "g", "m" ], run = "cd /run/media/$(whoami)", desc = "Goto Media directory" },

    # 2. Ã–ZEL ATAMALAR (RECYCLE BIN - Ã‡Ã–P KUTUSU)
    { on = [ "R", "o" ], run = "plugin recycle-bin -- open", desc = "Open Trash" },
    { on = [ "R", "e" ], run = "plugin recycle-bin -- empty", desc = "Empty Trash" },
    { on = [ "R", "D" ], run = "plugin recycle-bin -- emptyDays", desc = "Empty by days deleted" },
    { on = [ "R", "d" ], run = "plugin recycle-bin -- delete", desc = "Delete from Trash" },
    { on = [ "R", "r" ], run = "plugin recycle-bin -- restore", desc = "Restore from Trash" },
]

## ðŸ’» DiÄŸer Modlar

# AÅŸaÄŸÄ±daki modlar, temel iÅŸlevlerini korumak amacÄ±yla bÄ±rakÄ±lmÄ±ÅŸtÄ±r. BunlarÄ± silmek, ilgili pencere aÃ§Ä±ldÄ±ÄŸÄ±nda (Ã¶rneÄŸin $\texttt{w}$ ile gÃ¶rev yÃ¶neticisi aÃ§Ä±ldÄ±ÄŸÄ±nda) hiÃ§ tuÅŸun Ã§alÄ±ÅŸmamasÄ±na neden olur.

[tasks]

keymap = [
    { on = "<Esc>", run = "close", desc = "Close task manager" },
    { on = "k", run = "arrow -1", desc = "Move cursor up" },
    { on = "j", run = "arrow 1", desc = "Move cursor down" },
    { on = "<Enter>", run = "inspect", desc = "Inspect the task" },
    { on = "x", run = "cancel", desc = "Cancel the task" },
    { on = "w", run = "close", desc = "Close task manager" },
]

[spot]
keymap = [
    { on = "<Esc>", run = "close", desc = "Close the spot" },
    { on = "<Tab>", run = "close", desc = "Close the spot" },
    { on = "k", run = "arrow -1", desc = "Move cursor up" },
    { on = "j", run = "arrow 1", desc = "Move cursor down" },
    { on = "h", run = "swipe -1", desc = "Swipe to the previous file" },
    { on = "l", run = "swipe 1", desc = "Swipe to the next file" },
]

[pick]
keymap = [
    { on = "<Esc>", run = "close", desc = "Cancel pick" },
    { on = "<Enter>", run = "close --submit", desc = "Submit the pick" },
    { on = "k", run = "arrow -1", desc = "Move cursor up" },
    { on = "j", run = "arrow 1", desc = "Move cursor down" },
]

[input]
keymap = [
    { on = "<Enter>", run = "close --submit", desc = "Submit input" },
    { on = "<Esc>", run = "escape", desc = "Go back the normal mode, or cancel input" },
    # Mode
    { on = "i", run = "insert", desc = "Enter insert mode" },
    { on = "v", run = "visual", desc = "Enter visual mode" },
    # Delete
    { on = "<Backspace>", run = "backspace", desc = "Delete the character before the cursor" },
    # Kill
    { on = "<C-u>", run = "kill bol", desc = "Kill backwards to the BOL" },
    # Cut/Yank/Paste
    { on = "d", run = "delete --cut", desc = "Cut the selected characters" },
    { on = "y", run = "yank", desc = "Copy the selected characters" },
    { on = "p", run = "paste", desc = "Paste the copied characters after the cursor" },
]

[confirm]
keymap = [
    { on = "<Esc>", run = "close", desc = "Cancel the confirm" },
    { on = "<Enter>", run = "close --submit", desc = "Submit the confirm" },
    { on = "n", run = "close", desc = "Cancel the confirm" },
    { on = "y", run = "close --submit", desc = "Submit the confirm" },
]

[cmp]
keymap = [
    { on = "<Enter>", run = [ "close --submit", "close_input --submit" ], desc = "Submit the completion and input" },
    { on = "<Up>", run = "arrow -1", desc = "Move cursor up" },
    { on = "<Down>", run = "arrow 1", desc = "Move cursor down" },
]

[help]
keymap = [
    { on = "<Esc>", run = "escape", desc = "Clear the filter, or hide the help" },
    { on = "k", run = "arrow -1", desc = "Move cursor up" },
    { on = "j", run = "arrow 1", desc = "Move cursor down" },
    { on = "f", run = "filter", desc = "Apply a filter for the help items" },
]
